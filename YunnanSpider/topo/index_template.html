<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="go.js"></script>
</head>
<body>
    <div id="myDiagramDiv" style="background-color: whitesmoke; border: solid 1px black; width: 100%; height: 700px"></div>
    <label>节点： </label>
    <input type="text" name="keyword" id="keyword"  onfocus="search()" onblur="search()" oninput="search()" onchange="search()" />
    <br />
    <br />
    <span id="show_result">No Match</span>
</body>
<script>
    function init() {
    if (window.goSamples) goSamples();  // init for these samples -- you don't need to call this

    var $ = go.GraphObject.make;  // for conciseness in defining templates

    myDiagram = $(go.Diagram, "myDiagramDiv",  // create a Diagram for the DIV HTML element
                  {
                    initialContentAlignment: go.Spot.Center,  // center the content
                    "undoManager.isEnabled": true  // enable undo & redo
                  });

    // define a simple Node template
    myDiagram.nodeTemplate =
            $(go.Node, "Auto", // the whole node panel
                // define the node's outer shape, which will surround the TextBlock
                $(go.Shape, "Circle", {
                    fill: "CornflowerBlue",
                    stroke: "black",
                    spot1: new go.Spot(0, 0, 5, 5),
                    spot2: new go.Spot(1, 1, -5, -5)
                }),
                $(go.TextBlock, {
                        font: "bold 10pt helvetica, bold arial, sans-serif",
                        textAlign: "center",
                        maxSize: new go.Size(100, NaN)
                    },
                    new go.Binding("text", "text"))
            );
        // the rest of this app is the same as samples/conceptMap.html

        // replace the default Link template in the linkTemplateMap
        myDiagram.linkTemplate =
            $(go.Link, // the whole link panel
                $(go.Shape, // the link shape
                    {
                        stroke: "black"
                    }),
                $(go.Shape, // the arrowhead
                    {
                        toArrow: "standard",
                        stroke: null
                    }),
                $(go.Panel, "Auto",
                    $(go.Shape, // the label background, which becomes transparent around the edges
                        {
                            fill: $(go.Brush, "Radial", {
                                0: "rgb(240, 240, 240)",
                                0.3: "rgb(240, 240, 240)",
                                1: "rgba(240, 240, 240, 0)"
                            }),
                            stroke: null
                        }),
                    $(go.TextBlock, // the label text
                        {
                            textAlign: "center",
                            font: "10pt helvetica, arial, sans-serif",
                            stroke: "#555555",
                            margin: 4
                        },
                        new go.Binding("text", "text"))
                )
            );

    // but use the default Link template, by not setting Diagram.linkTemplate

    // create the model data that will be represented by Nodes and Links
    var nodeDataArray = $NODEDATAARRAY$;
    var linkDataArray = $LINKDATAARRAY$;
    myDiagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
  }

    init();
    var data = $LINKDATA$;
    // onclick事件
    function search(){
        var keyword = document.getElementById('keyword').value;
        var x;
        var result_pd = document.getElementById('show_result');
        var result_data = new Array();
        for (x in data){
            if(data[x].indexOf(keyword) != -1){
                result_data.push(data[x]);
            }
        }
        var result = "";
        for (x in result_data){
            result += x + " | " +result_data[x]+"<br/><br/>";
        }
        if(result != ""){
            result_pd.innerHTML = result;
        }else{
            result_pd.innerHTML = 'No Match';
        }
    }
</script>
</html>